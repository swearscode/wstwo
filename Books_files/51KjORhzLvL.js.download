'use strict';mix_d("SBXGwentCards__lifestyle-image-v4-creative-desktop:lifestyle-image-v4-creative-desktop__SpZBqT0I/es3","require exports tslib @c/remote-operations @c/logger @c/dom @c/pagemarker @c/aui-utils @c/metrics @c/aui-feature-detect @c/browser-operations @p/a-ajax @c/aui-modal @p/A @c/scoped-dom".split(" "),function(qa,ra,y,Pa,sa,Qa,Ra,ta,Sa,Ta,fa,Ua,Va,Wa,Xa){function G(a){return a&&"object"===typeof a&&"default"in a?a:{"default":a}}function E(a,b){return function(c){c=t(a,c);return b?
b(c):c}}function ua(a,b,c,d){b?(x("Send"+a+"Success"),c&&x("Send"+a+"Success_"+c),d&&x("Send"+a+"Success_"+d)):(x("Send"+a+"Failure"),c&&x("Send"+a+"Failure_"+c),d&&x("Send"+a+"Failure_"+d))}function va(a){return Array.isArray(a)?a.map(function(b){return y.__assign(y.__assign({},b),{width:0,height:0})}):{url:a.url,width:0,height:0}}function Ya(a){a.getElements('[data-mix-operations~="dare-adb--countdown"]').forEach(function(b){var c,d=null===(c=b.parentElement)||void 0===c?void 0:c.dataset.timestamp;
if(d){var e=b.parentElement.dataset.template;if(e){var f=(new Date(d)).getTime();c=function(){var g,l=(new Date).getTime();l=Math.ceil((f-l)/1E3);if(0>l&&"undefined"!==typeof h)clearInterval(h),(null===(g=b.parentElement)||void 0===g?0:g.nextElementSibling)&&b.parentElement.remove();else{g=[];var k=Math.floor(l/3600%24);0<k&&g.push(("0"+k).slice(-2));g.push(("0"+Math.floor(l/60%60)).slice(-2));g.push(("0"+Math.floor(l%60)).slice(-2));b.innerText=e.replace("{time}",g.join(":"))}};c();var h=setInterval(c,
1E3)}else a.log("no template string for automated deal badge countdown","WARN")}else a.log("no timestamp for automated deal badge countdown","WARN")})}function Za(a){a.getElement&&a.getElements('[data-dare~="call-to-action"]').forEach(function(b){var c,d,e,f=a.getElement('[data-dare~="call-to-action--fallback"]',null!==(c=b.parentElement)&&void 0!==c?c:void 0),h=a.getElement(".a-truncate",b);c=a.getElement(".a-truncate-full",b);h&&c&&(c.clientHeight>h.clientHeight&&f?(f.style.display="block",null===
(d=b.parentElement)||void 0===d?void 0:d.removeChild(b)):(f=a.getElement('[data-dare~="call-to-action--chevron"]',b))&&!c.hasAttribute("data-dare-chevron")&&(b=c.innerText.split(" "),d=b.pop(),f=f.innerHTML,b="<span>".concat(b.join(" ")," </span><span>").concat(null===(e=null!==d&&void 0!==d?d:"")||void 0===e?void 0:e.trim(),"&nbsp;").concat(f,"</span>"),c.innerHTML=b,c.setAttribute("data-dare-chevron","true")))})}function $a(a,b){var c=this,d=P;window.P&&window.P.AUI_BUILD_DATE?d.when("A").execute(function(e){var f=
e.capabilities.mobile;d.when(f?"a-secondary-view":"a-modal").execute(function(h){return ba(c,void 0,void 0,function(){var g,l=this;return ca(this,function(k){g=function(m,p){return ba(l,void 0,void 0,function(){var u,q,r,v,n,A,B,D,H,O;return ca(this,function(Q){switch(Q.label){case 0:u=m.currentTarget;if(!(u instanceof HTMLElement))return a.log("energy-efficiency-".concat(p," click target not an html element"),"WARN"),[2];if(h.get(u))return[2];if(u.dataset.dareEeModalContent)try{q=JSON.parse(u.dataset.dareEeModalContent)}catch(T){return T instanceof
Error&&a.log(T,"ERROR"),a.log("failed to parse eel payload","ERROR"),[2]}a:{var C=q;if("object"!==typeof C)var I=!1;else{I=0;for(C=[Object.getOwnPropertyDescriptor(C,"closeButtonLabel"),Object.getOwnPropertyDescriptor(C,"ficheImageUrl"),Object.getOwnPropertyDescriptor(C,"ficheTitle"),Object.getOwnPropertyDescriptor(C,"id"),Object.getOwnPropertyDescriptor(C,"labelImageUrl"),Object.getOwnPropertyDescriptor(C,"labelTitle"),Object.getOwnPropertyDescriptor(C,"modalTitle")];I<C.length;I++){var V=C[I];if("string"!==
typeof(null===V||void 0===V?void 0:V.value)){I=!1;break a}}I=!0}}if(!I)return a.log("energy-efficiency-".concat(p," data is invalid: ").concat(u.dataset.content),"WARN"),[2];"fiche"!==p||q.ficheImageUrl&&q.ficheTitle||a.log("energy-efficiency-".concat(p," payload is missing expected fiche data: ").concat(JSON.stringify(q)),"WARN");Q.label=1;case 1:return Q.trys.push([1,5,,6]),r="fiche"===p?q.ficheTitle:q.labelTitle,v="fiche"===p?q.ficheImageUrl:q.labelImageUrl,n=a.createElement("img"),n.setAttribute("alt",
null!==r&&void 0!==r?r:""),n.setAttribute("src",null!==v&&void 0!==v?v:""),null!==b&&void 0!==b&&b.generateModalContent?[4,b.generateModalContent(da(da({},q),{activeTab:p}))]:[3,3];case 2:return B=Q.sent(),[3,4];case 3:B=null,Q.label=4;case 4:return A=B,D=h.create(u,{closeButtonLabel:q.closeButtonLabel,header:f?void 0:q.modalTitle,inlineContent:f||!A?n.outerHTML:A.outerHTML,popoverLabel:null!==(O=f?r:q.modalTitle)&&void 0!==O?O:"",width:f?void 0:"800"}),D.show(),[3,6];case 5:return H=Q.sent(),H instanceof
Error&&a.log(H,"ERROR"),a.log("failed to create eel popover","ERROR"),[3,6];case 6:return[2]}})})};a.addEventListener("dare-ee--label-click","click",function(m){return ba(l,void 0,void 0,function(){return ca(this,function(p){switch(p.label){case 0:return[4,g(m,"label")];case 1:return p.sent(),[2]}})})});a.addEventListener("dare-ee--fiche-click","click",function(m){return ba(l,void 0,void 0,function(){return ca(this,function(p){switch(p.label){case 0:return[4,g(m,"fiche")];case 1:return p.sent(),[2]}})})});
return[2]})})})}):a.log("aui not found","ERROR")}function ab(a){var b=this,c=P;window.P&&window.P.AUI_BUILD_DATE?c.when("mash").execute(function(d){a.addEventListener("dare-rcc--click","click",function(e){return bb(b,void 0,void 0,function(){var f,h,g;return cb(this,function(l){f=e.currentTarget;if(!(f instanceof HTMLElement))return a.log("Rufus conversation trigger is not an HTML element","WARN"),[2];h=f.dataset.query;if(!h)return a.log("Rufus conversation trigger lacks query","ERROR"),[2];g=f.dataset.percolateRequestId;
if(!g)return a.log("Rufus conversation trigger lacks percolateRequestId","ERROR"),[2];try{d.dispatchEvent({detail:{actionId:"SPARKLE_RELATED_QUESTION",actionType:"INVOKE_NILE_BACKEND_API",payload:{qis:"NileAdsSparkleRelatedQuestion",searchRequestId:g,triggerRequest:"SPARKLE_RELATED_QUESTION"},query:h},type:"savx:action"})}catch(k){k instanceof Error&&a.log(k,"ERROR"),a.log("Failed to dispatch Rufus conversation mash event","ERROR")}return[2]})})})}):a.log("aui not found","ERROR")}function db(a){var b,
c=null!==(b=null===a||void 0===a?void 0:a.strategy)&&void 0!==b?b:new eb;a=null===a||void 0===a?void 0:a.operations;try{Ya(c)}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable automated deal badges","ERROR")}try{Za(c)}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable calls to action","ERROR")}try{var d=c.getElements('[data-dare="clamped-text"]');if(d.length&&!("-webkit-line-clamp"in d[0].style||"lineClamp"in d[0].style)){for(b=0;b<d.length;b++){var e=d[b],f=
parseInt(e.getAttribute("data-dare-max-rows")||"1"),h=Math.ceil(parseFloat(getComputedStyle(e).lineHeight||"1.3em")),g=f*h;if(!(e.scrollHeight<=g)){for(;e.scrollHeight>g;)e.innerText=e.innerText.slice(0,-1);e.innerText=e.innerText.slice(0,-3);e.innerText+="\u2026"}}c.log("polyfill applied to clamped text","WARN")}}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable clamped text","ERROR")}try{$a(c,{generateModalContent:null===a||void 0===a?void 0:a.generateEnergyEfficiencyModalContent})}catch(l){l instanceof
Error&&c.log(l,"ERROR"),c.log("failed to enable energy efficiency buttons","ERROR")}try{ab(c)}catch(l){l instanceof Error&&c.log(l,"ERROR"),c.log("failed to enable rufus conversation cue","ERROR")}}var J=G(sa),R=G(Qa),fb=G(Ra),gb=G(ta),wa=G(Sa),hb=G(Ta),ib=G(fa),jb=G(Ua),kb=G(Va),U=G(Wa),lb=G(Xa),K,Y;(function(a){a.Cornerstone="CSTONE";a.Axiom="AXIOM"})(Y||(Y={}));var mb=(K={},K.e="basebe.ClientErrors.4",K.i="basebe.Impressions.8",K.c="basebe.Clicks.5",K.s="basebe.Swipes.5",K.v="basebe.Viewabilities.6",
K.vc="basebe.VisualCompleteness.7",K.ss="basebe.slideshow.1",K.ia="basebe.ImpressionsV2.4",K.iv2="basebe.ImpressionsV3.2",K),xa=function(a,b){return"matches"in a?a.matches(b):"msMatchesSelector"in a?a.msMatchesSelector(b):"webkitMatchesSelector"in a?a.webkitMatchesSelector(b):0<=z(b,w().ownerDocument.body).indexOf(a)},w=function(a,b){b=b||R["default"].cardRoot;return!a||xa(b,a)?b:b.querySelector(a)},z=function(a,b){return Array.prototype.slice.call((b||R["default"].cardRoot).querySelectorAll(a))},
t=function(a,b){return(b=w("["+a+"]",b))?b.getAttribute(a):null},ya=function(a,b){a:{for(var c="["+a+"]";b&&b!==R["default"].cardRoot;){if(xa(b,c))break a;b=b.parentElement}b=null}return b?b.getAttribute(a):null},za=function(a){if(a)return a=a.getBoundingClientRect(),{left:a.left,right:a.right,top:a.top,bottom:a.bottom};a=M();return{left:0,top:0,right:a.innerWidth,bottom:a.innerHeight}},M=function(){return w().ownerDocument.defaultView},S=function(a,b){J["default"].log(a,"ERROR",b||"SBX_GWENT")},
Aa=function(a){var b;a=/\?([^#]+)/.exec(a);if(!a)return[];a=a[1].split("&");var c=null;try{for(var d=y.__values(a),e=d.next();!e.done;e=d.next()){var f=e.value;if(0===f.indexOf("ref_=")){c=f;break}}}catch(g){var h={error:g}}finally{try{e&&!e.done&&(b=d.return)&&b.call(d)}finally{if(h)throw h.error;}}return c?(h=c.split("=").pop()||"")?h.split("_"):[]:[]},Ba=function(a,b,c){var d={};if(5<c.length){d.el=c.pop()||null;a:{var e;try{for(var f=y.__values(c),h=f.next();!h.done;h=f.next()){var g=h.value;
if(/^\d+$/.test(g)){var l=g;break a}}}catch(m){var k={error:m}}finally{try{h&&!h.done&&(e=f.return)&&e.call(f)}finally{if(k)throw k.error;}}l=null}d.index=l;d.asin=ya("data-asin",b);d.type=ya("data-avar",b)}a.c(d,b)},nb=function(a,b){var c=Aa(b.href);Ba(a,b,c)},ob=function(a,b){var c=M(),d=function(e){2!==e.button&&(nb(a,b),e.metaKey||e.altKey||e.shiftKey||e.ctrlKey||1===e.button||"_blank"===b.target||(e.preventDefault(),c.setTimeout(function(){c.open(b.href,b.target||"_top")},50)))};b.addEventListener("click",
d);b.addEventListener("auxclick",d)},Ca=function(a,b,c){var d=w("[data-active]"),e=(null===d||void 0===d?void 0:d.dataset)||{};d=e.paginationId;e=e.index;b.c({el:"sb-slideshow-arrow",type:a,asin:void 0===d?null:d,index:void 0===e?null:e},c)},qb=function(a,b){z("[href]",b).filter(function(c){return!c.classList.contains("a-carousel-button")}).forEach(function(c){ob(a,c)});z(".amazon-follow",b).forEach(function(c){c.addEventListener("click",function(){var d=Aa("?&ref_="+c.getAttribute("data-ref"));Ba(a,
c,d)})});z('[data-mix-operations="handleNext"]').forEach(function(c){c.addEventListener("click",function(){Ca("next",a,b)})});z('[data-mix-operations="handlePrev"]').forEach(function(c){c.addEventListener("click",function(){Ca("prev",a,b)})});z('[data-mix-operations="handlePaginationClick"]').forEach(function(c){c.addEventListener("click",function(){var d=c.dataset||{},e=d.paginationId;d=d.index;a.c({el:"sb-slideshow-pagination",type:"pagination",index:void 0===d?null:d,asin:void 0===e?null:e},b)})});
z('[data-mix-operations="hotSpotClick"]').forEach(function(c){c.addEventListener("click",function(){var d,e=(c.dataset||{}).asinid;e=void 0===e?null:e;var f=c.style,h=f.left;f=f.top;var g=w('[data-asin="'+e+'"]')||void 0;g=((null===(d=w("[data-asinindex]",g))||void 0===d?void 0:d.dataset)||{}).asinindex;d=void 0===g?null:g;h={x:parseFloat(h),y:parseFloat(f)};h=JSON.stringify(h);e=y.__assign({type:h},{asin:e,el:"hotspot",index:d});a.c(e,c)})});pb(a)},pb=function(a){var b=w('[class*="seeProducts"]'),
c=w('[data-mix-operations="expandHandler"]'),d=z('[class*="sidebarButton"]'),e=[b,c].concat(d);if(e.length){var f=[];e.forEach(function(g){if(g){var l=g instanceof HTMLButtonElement&&!t("data-index",g)?"seeProducts":g instanceof HTMLButtonElement?"asinSidebar":"shoppableImageCollapsed",k={asin:g.dataset.asinid||null,index:g.dataset.index||null,el:l};l=function(){if(g){var m=y.__assign({type:"collapsed"},k);a.c(m,g);h(e,f)}};f.push(l);g.addEventListener("click",l)}});var h=function(g,l){g.forEach(function(k,
m){k&&k.removeEventListener("click",l[m])})}}},ha=E("data-card-metrics-id",function(a){return(a||"").split("_")[0]}),ia=E("data-var"),rb=E("data-rid"),sb=E("data-cid"),tb=E("data-iid"),Da=E("data-aid"),Ea=E("data-aidx"),ub=E("data-idt",function(a){switch(a){case Y.Axiom:return Y.Axiom;default:return Y.Cornerstone}}),ea=E("data-rctx",function(a){return a?JSON.parse(a):{sid:"",cid:"",mid:"",aigen:null}}),ja=E("data-wl",function(a){return a?a.split(","):[]}),vb=E("data-slot"),ka=E("data-ts"),la=function(){var a=
M();return a.innerWidth+"x"+a.innerHeight},ma=function(a){return(a=a||R["default"].cardRoot)?(a=a.getBoundingClientRect(),{width:a.width,height:a.height}):{width:0,height:0}},W=function(a,b){var c;b=b||R["default"].cardRoot;return(a=null===(c=b.querySelector('[class*="'+a+'"]'))||void 0===c?void 0:c.getAttribute("src"))?a:null},na=function(a){return{id:t("data-asin",a),prime:!!w(".a-icon-prime",a),price:!!w(".a-price",a),savings:!!w('.a-price[data-a-strike="true"]',a),rating:t("data-rt",a),badge:t("data-deal",
a)}},Fa=function(a,b){var c=M(),d,e=function(){d||(d=c.setTimeout(a,b))};e.cancel=function(){c.clearTimeout(d);d=0};return e},oa=function(a,b,c){var d=(c||{}).ms||25,e=(c||{}).el||M(),f=gb["default"].throttle(b,d);e.addEventListener(a,f);return function(){e.removeEventListener(a,f)}},X={},Ha=function(a,b,c){void 0===c&&(c=!1);var d=a.getBoundingClientRect(),e=d.width*d.height;a=t("data-view-pixel",a);if(e){var f=d.top,h=d.bottom,g=d.left,l=d.right,k=M();d=k.innerHeight;g=Ga(g,l,k.innerWidth);f=Ga(f,
h,d);e=g*f/e;if(c)if(.5<=e)if(b)b();else return!0;else if(b)b.cancel();else return!0;else if(a)if(X[a]||(X[a]={percentageViewed:.5,startTimeInView:0}),c=X[a],c.percentageViewed=e,.5<=e){if(0===c.startTimeInView||1E3<Date.now()-c.startTimeInView)c.startTimeInView=Date.now();if(b)b();else return!0}else if(c.startTimeInView=0,b)b.cancel();else return!0}},Ga=function(a,b,c){return 0<=a?Math.max(Math.min(c-a,b-a),0):0<b?Math.max(Math.min(Math.min(b,c),b-a),0):0},Ia=function(a){var b,c,d=Date.now()-(null===
(b=X[a])||void 0===b?NaN:b.startTimeInView);b=null===(c=X[a])||void 0===c?void 0:c.percentageViewed;if(d&&b)if(c="/"===a.substr(-1)?a+"v/":a+"/v/",a=JSON.stringify({v:{def:"iab",event:"VIEWED",p:Math.round(100*X[a].percentageViewed),t:parseFloat((d/1E3).toFixed(3))},programType:"SBC"}),"function"===typeof window.fetch)fetch(c+encodeURI(a),{method:"POST",mode:"no-cors",headers:{"Content-Type":"application/json"},body:a}).then(function(f){f.ok||0===f.status||J["default"].log(f.status+" "+f.statusText,
"ERROR","sbx-ce-vcpm-fetch");x("PixelClientCallSuccess")}).catch(function(f){x("PixelClientCallFailure");J["default"].log(f,"ERROR","sbx-ce-vcpm-fetch")});else{var e=new XMLHttpRequest;e.open("POST",c+encodeURI(a));e.setRequestHeader("Content-Type","application/json");e.onreadystatechange=function(){4===e.readyState&&(200!==e.status?J["default"].log(e.status+" "+e.statusText,"ERROR","sbx-ce-vcpm-fetch"):x("PixelClientCallSuccess"))};e.onerror=function(){x("PixelClientCallFailure");J["default"].log("XMLHttpRequest error from old browser",
"ERROR","sbx-ce-vcpm-fetch")};e.send(a)}else d||x("PixelClientCallMissingTimeInView"),b||x("PixelClientCallMissingPercentageInView")},wb=function(a,b){var c=function(){Ha(b?b:w(),d)},d=Fa(function(){var h=t("data-view-pixel",b?b:w());h&&(Ia(h),h=w("[data-view-pixel]"),null===h||void 0===h?void 0:h.removeAttribute("data-view-pixel"));e();f();a.v(null,b)},1E3),e=oa("scroll",c,void 0),f=oa("resize",c,void 0);c()},xb=function(a){a&&a.forEach(function(b){var c=Fa(function(){var d=t("data-view-pixel",b);
d&&(Ia(d),null===b||void 0===b?void 0:b.removeAttribute("data-view-pixel"))},1E3);Ha(b,c)})},Ja=function(a,b){var c=null,d=null;a.addEventListener("touchstart",function(e){c=e.touches[0].pageX});a.addEventListener("touchmove",function(e){null===c&&(c=e.touches[0].pageX);d=e.touches[0].pageX});a.addEventListener("touchend",function(){null!==c&&null!==d&&b(d-c);c=d=null})},yb=function(a){if(hb["default"].isSupported("touch")){var b=w("[data-track-swipe]"),c=w("[data-trackswipe]"),d=function(e){var f=
Math.abs(e);if(30<f){var h=z("[data-view-pixel]");xb(h);a.s({direction:0>e?"left":"right",length:f})}};b?Ja(b,d):c&&Ja(c,d)}},zb=function(a,b){var c=Date.now();b=z("img",b);var d=b.length,e=0,f=function(){++e===d&&a.vc({delay:Date.now()-c})};b.forEach(function(h){null!==t("data-lazy",h)&&null!==t("data-src",h)?h.addEventListener("load",function(){h.src===h.dataset.src&&f()}):h.complete?f():h.addEventListener("load",f)})},Ab=function(a){var b=a.campaignId,c=a.idType,d=a.slotName,e=a.market,f={eventV1:{anonymizedRequestId:a.anonymizedRequestId,
campaignId:b,slotName:d,idType:c,market:e,customerId:a.customerId,sessionId:a.sessionId,lob:a.lob},eventV2:{campaignId:b,slotName:d,idType:c,market:e,joinId:a.joinId}},h=function(g,l,k){try{var m=wa["default"],p=m.event,u=y.__assign({},f[l]);if(k)for(var q in k)Object.prototype.hasOwnProperty.call(k,q)&&(u[q]=k[q]);p.call(m,u,"base-be",mb[g],{ssd:!0})}catch(r){S(r)}};return{i:h.bind(null,"i","eventV1"),v:h.bind(null,"v","eventV1"),vc:h.bind(null,"vc","eventV1"),c:h.bind(null,"c","eventV1"),s:h.bind(null,
"s","eventV1"),ss:h.bind(null,"ss","eventV1"),ia:h.bind(null,"ia","eventV1"),iv2:h.bind(null,"iv2","eventV2"),e:function(g){h("e","eventV1",g&&{name:g.name,message:g.message,stack:g.stack})}}},Ka=function(a){var b=sb(a);var c=ea(a).mid;b=Ab({anonymizedRequestId:rb(),campaignId:b,idType:ub(a),slotName:vb(),market:c,customerId:null,sessionId:null,lob:"UNKNOWN",joinId:null});var d=M();c=d.innerWidth;d=d.innerHeight;var e=ma(a),f=e.width;e=e.height;var h=ea(a).aigen;b.i({asins:[].map.call(z("[data-asin]",
a),na),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adWidth:f,adHeight:e,viewportWidth:c,viewportHeight:d,storeBannerUrl:W("storeBanner",a),customImageUrl:W("lifestyleImage",a),isAiGen:h});qb(b,a);zb(b,a);wb(b,a);yb(b);d=M();c=d.innerWidth;d=d.innerHeight;e=ma(a);f=e.width;e=e.height;h=ea(a).aigen;b.ia&&b.ia({asins:[].map.call(z("[data-asin]",a),na),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adIndex:Ea(a),adId:Da(a),adWidth:f,
adHeight:e,viewportWidth:c,viewportHeight:d,storeBannerUrl:W("storeBanner",a),customImageUrl:W("lifestyleImage",a),isAiGen:h});d=M();c=d.innerWidth;d=d.innerHeight;e=ma(a);f=e.width;e=e.height;h=ea(a).aigen;b.iv2&&b.iv2({asins:[].map.call(z("[data-asin]",a),na),creativeType:ha(),creativeVariation:ia(a),version:ka(a),viewport:la(),weblabs:ja(a),adIndex:Ea(a),adId:Da(a),adWidth:f,adHeight:e,viewportWidth:c,viewportHeight:d,storeBannerUrl:W("storeBanner",a),customImageUrl:W("lifestyleImage",a),isAiGen:h})},
x=function(a,b){void 0===b&&(b=1);wa["default"].count("sbxGwentClient"+a,b)},F={log:function(a){var b=M();var c=tb();(b=c&&b.sbxGwentClient&&"number"===typeof b.sbxGwentClient[c]?Date.now()-b.sbxGwentClient[c]:null)?x(a,b):x("NoPageTime")}},Bb=function(a){var b=a.url,c=a.onSuccess,d=a.onError;b||d();jb["default"].get(b,{success:function(e){e&&"ok"===e.status?c(e):d()},error:d,abort:d})},pa;(pa||(pa={})).adFeedbackHandler="adFeedbackHandler";var Cb=function(a,b,c,d,e){try{var f=JSON.parse(a),h=y.__read(f,
6),g=h[0],l=h[1],k=h[2],m=h[3],p=h[4],u=h[5],q=[];Array.isArray(g)?g.forEach(function(v){return q.push({campaignId:c,creativeId:v})}):q.push({campaignId:c,creativeId:g});var r={adCreativeMetaData:{adCreativeId:Array.isArray(g)?g[0]:g,adId:b,adImpressionId:l,adNetwork:"aax",adProgramId:1010,adCreativeDetails:q},adPlacementMetaData:{adElementId:k,pageType:m,pageUrl:p,searchTerms:u,slotName:d,adProgramId:1010}};return e+"?pl="+encodeURIComponent(JSON.stringify(r))}catch(v){return null}},La=function(a){var b=
ib["default"].setup().define,c=!!t("data-ad-feedback-clicks"),d=!!t("data-ad-feedback-simulate"),e=a||"AdFeedbackSuccess",f="AdFeedbackPlaceholderClick",h=!1;c&&b(pa.adFeedbackHandler,"click",function(){F.log(f);"AdFeedbackPlaceholderClick"===f&&(h=!0)});a=t("data-ad-feedback");b=t("data-ad-feedback-url")||"/gp/aq-feedback/lazyLoad/handler/af-link-handler.html";if(a){c=t("data-slot");var g=t("data-aid"),l=t("data-cid");a=Cb(a,g,l,c,b);Bb({url:a,onSuccess:function(k){var m=k.html;var p=w('[data-id="afb-content"]');
p&&m?(p.innerHTML=m,m=p):m=null;if(k=k.script)p=w().ownerDocument.createElement("script"),p.type="text/javascript",p.innerHTML=k,w().appendChild(p);F.log(e);f="AdFeedbackLinkClick";m&&h&&d&&((k=w("a",m))?(k.click(),k=!0):k=!1,F.log(k?"AdFeedbackSimulateClickSuccess":"AdFeedbackSimulateClickFail"))},onError:function(){F.log("AdFeedbackFallback");h&&d&&F.log("AdFeedbackSimulateClickFail")}})}},Z=function(a,b){var c,d=[];try{for(var e=y.__values(a.split(/[-_]/)),f=e.next();!f.done;f=e.next()){var h=
f.value;d.push(h.charAt(0).toUpperCase()+h.slice(1));if("creativeLevel"===b&&("desktop"===h||"mobile"===h))break}}catch(l){var g={error:l}}finally{try{f&&!f.done&&(c=e.return)&&c.call(e)}finally{if(g)throw g.error;}}return d.join("")},Eb=function(a,b,c,d,e,f,h,g,l,k,m){return y.__awaiter(void 0,void 0,void 0,function(){var p,u,q;return y.__generator(this,function(r){switch(r.label){case 0:p=function(){return{adCreativeMetaData:{adCreativeDetails:Db(b,g,l,k,m)},adFeedbackLabelId:a}},u=function(v){var n=
v.baseMessage,A=v.deviceType,B=v.tabletEnv,D=v.slotName;D=y.__read([Z(v.creativeId,"creativeLevel"),Z(D,"slotLevel")],2);v=D[0];D=D[1];x(n);A&&(A=n+"_"+A,B&&(A+="_"+B),x(A));v&&x(n+"_"+v);D&&x(n+"_"+D)},r.label=1;case 1:return r.trys.push([1,3,,4]),[4,c(p)];case 2:return r.sent(),u({baseMessage:"EnableAdFeedbackSuccess",deviceType:d,tabletEnv:e,creativeId:f,slotName:h}),[3,4];case 3:return q=r.sent(),u({baseMessage:"EnableAdFeedbackFailure",deviceType:d,tabletEnv:e,creativeId:f,slotName:h}),S(q),
[3,4];case 4:return[2]}})})},Fb=function(a){if(a){var b=a.split(" ");b.map(function(c,d){0<d&&(b[d]=c.substring(3,c.length))});b.pop();b.shift();return b}},Db=function(a,b,c,d,e){var f=[],h=t("data-card-metrics-id")||"",g=t("data-slot")||"";h=y.__read([Z(h,"creativeLevel"),Z(g,"slotLevel")],2);var l=h[0],k=h[1];e&&e()!==a.length&&(a=a.filter(function(m){return w('[data-aid="'+m.adId+'"]')}));a.forEach(function(m,p){var u='[data-aid="'+m.adId+'"]';for(var q=w(u),r=b&&b()||document.body,v,n=0;(c?n<
c.length:0>n)&&!(v=w(u+' div[class*="'+(null===c||void 0===c?void 0:c[n])+'"] img'));n++);v?x("AfImagePresent_"+l):x("AfImageMissing_"+l);u=(null===v||void 0===v?void 0:v.getAttribute("src"))||void 0;n=Fb((null===v||void 0===v?void 0:v.getAttribute("srcset"))||void 0);var A=(null===n||void 0===n?void 0:n.length)||1;v=[];for(var B=0;B<A;B++)v.push({url:(null===n||void 0===n?void 0:n[B])||""});u={url:u?u:""};ua("SelectionSignals",m.selectionSignals,l,k);ua("AdvertiserIdNS",m.advertiserIdNS,l,k);if(q){(n=
1===a.length||d)||(q=za(q),r?((n=w('div[data-index="'+p+'"]'))?n=0===n.offsetHeight&&0===n.offsetWidth?!0:!1:(J["default"].log("container Element for ad number "+p+" is not found","WARN","DSA/AdFeedback"),n=!0),n?n=!1:(r=za(r),q.left===r.left||q.right===r.right?(n=q.left,(n=n>=r.left&&n<=r.right)||(q=q.right,n=q>=r.left&&q<=r.right),r=n):(n=q.left,(n=n>r.left&&n<r.right)||(q=q.right,n=q>r.left&&q<r.right),r=n),n=r)):n=void 0);if(n){r=f.push;q=m.campaignId;n=m.adId;A=m.title;v={lowResolutionImage:va(u),
highResolutionImages:va(v)};if(m.selectionSignals){u=m.selectionSignals;switch(u.pastActivity){case "STORE_ONLY":B=1;break;default:B=0}u=y.__assign(y.__assign({},u),{pastActivity:B})}else u=void 0;r.call(f,{campaignId:q,adId:n,adCreativeIndex:p,title:A,adCreativeImage:v,selectionSignals:u,advertiserIdNS:m.advertiserIdNS})}x("adElementPresent_"+l)}else x("adElementMissing"),J["default"].log("adElement is not found: "+JSON.stringify(m),"WARN","DSA/AdFeedback"),x("adElementMissing_"+l)});return f},Ma=
function(){z('[data-id="cta"]').forEach(function(a){if(a.parentElement){var b=w('[data-id*="cta-fallback"]',a.parentElement),c=w(".a-truncate",a),d=w(".a-truncate-full",a);c&&d&&(d.clientHeight>c.clientHeight&&b?(b.style.display="block",a.parentElement.removeChild(a)):(b=a.parentElement.getAttribute("aria-hidden"),b&&"false"!==b||(b=a.getAttribute("data-label")||d.innerHTML,a.parentElement.setAttribute("aria-label",b)),(c=w('[data-id*="cta-chevron"]',a))&&!d.hasAttribute("data-chevron")&&(d.setAttribute("data-chevron",
"true"),a=d.innerHTML.split(" "),b=a.pop(),c=c.innerHTML,d.innerHTML="<span>"+a.join(" ")+" </span><span>"+b+"&nbsp;"+c+"</span>")))}})},Gb=function(a){var b=t("data-src",a)||"",c=t("data-srcset",a)||"",d=a.cloneNode();d.removeAttribute("data-src");d.removeAttribute("data-srcset");d.removeAttribute("data-lazy");d.srcset=c;d.src=b;a.parentNode&&a.parentNode.insertBefore(d,a);d.onload=function(){a.style.opacity="0";F.log("LazyLoaded")}},Hb=function(){var a=z('[class*="eelModalRoot"]');a&&a.forEach(function(b,
c){var d=t("data-modal-trigger",b),e=t("data-title",b),f=t("data-modal-settings",b);f=JSON.parse(f||"{}");if(d){c="eel-cards-modal-"+c;var h="."+b.className.split(" ")[0],g=kb["default"].create(c,h,{closeButton:(null===f||void 0===f?void 0:f.closeButton)||!1,a11yOpenMessage:e||"Energy Efficiency & Product Fiche",width:(null===f||void 0===f?void 0:f.width)||800});e=fa.setup();f=e.define;e=e.attach;g.once("beforeShow",function(){U["default"].loadDescendantImagesManually(b)});f("modal-handler-"+d,["click"],
function(){g.show()});f("modal-close-handler-"+d,["click"],function(){g.hide()});f=w('[data-mix-operations="modal-handler-'+d+'"]');d=w('[data-mix-operations="modal-close-handler-'+d+'"]');f&&d&&(e("modalHandler",f),e("modalClose",d))}})},Ib=function(a){var b=function(d,e){d={$event:{preventDefault:U["default"].$.noop,stopPropagation:U["default"].$.noop},$target:d.getContent().find('[data-a-tab-name="'+e+'"]'),data:{name:"energyEfficiencyTabSet"}};U["default"].trigger("a:declarative:a-tabs:click",
d)},c=function(d,e){var f=d&&d.$event,h=d&&d.data||{},g=h.name;f&&f.preventDefault&&f.preventDefault();f&&f.stopPropagation&&f.stopPropagation();d&&f&&h&&g&&e&&(f=e.get(g),f||(U["default"].on("a:popover:beforeShow:"+g,function(l){var k,m,p;l.popover&&l.popover.getContent&&(l=l.popover.getContent(),null===(m=null===(k=null===l||void 0===l?void 0:l.find(".a-manually-loaded"))||void 0===k?void 0:k.parent())||void 0===m?void 0:m.css("min-height",null!==(p=h.modalHeight)&&void 0!==p?p:800),U["default"].loadDescendantImagesManually(l))}),
f=e.create(d.$target,h)),f&&(f.show(),h.activeTabName&&b(f,h.activeTabName)))};a&&a.when("a-secondary-view").execute("RegisterEnergyEfficiencyEventMobile",function(d){U["default"].declarative("card-energy-efficiency-secondary-view","click",function(e){c(e,d)})})},Kb=function(){z("span[data-ad-deal-end-time]").forEach(function(a){var b=t("data-ad-deal-end-time",a);a&&null!==b&&Jb(a,b)})},Jb=function(a,b){var c=ta.interval(function(){var d=(new Date(b)).getTime(),e=Date.now();e=Math.floor((d-e)/1E3);
if(0>e)clearInterval(c);else{var f=Math.floor(e/60%60);d=Math.floor(e%60);e=("0"+Math.floor(e/3600%24)).slice(-2);f=("0"+f).slice(-2);d=("0"+d).slice(-2);a.innerText=e+":"+f+":"+d}},1E3)},Mb=function(a){return function(){return y.__awaiter(void 0,void 0,void 0,function(){var b,c,d,e,f,h,g,l,k,m,p,u,q,r,v,n,A,B,D;return y.__generator(this,function(H){switch(H.label){case 0:return F.log("Loaded"),b=a||{},c=b.loadAdFeedback,d=b.onLoad,e=b.onInit,f=b.isMobile,h=b.enableAdFeedback,g=b.creativeContainer,
l=b.creativeImageContainer,k=b.bypassAdFeedbackViewportCheck,m=b.renderedAdsCount,e&&e(),[4,fb["default"].pageReady];case 1:H.sent();F.log("Ready");try{var O=w(".sbx-no-js",void 0);O&&O.classList.remove("sbx-no-js");try{var Q=z("[data-cid]");Q.length?Q.forEach(Ka):Ka()}catch(L){S(L)}try{Ma(),oa("resize",Ma,void 0)}catch(L){S(L)}try{z('img[data-lazy="true"]').forEach(Gb)}catch(L){S(L)}w('[class*="eelModalRoot"]')?Hb():w('[data-action*="card-energy-efficiency-"]')&&Ib(window.P);var C,I;if(!("-webkit-line-clamp"in
R["default"].cardRoot.ownerDocument.body.style||"lineClamp"in R["default"].cardRoot.ownerDocument.body.style)){var V=z('[class*="_sbTruncatedTitle_"]');if(V.length)try{for(var T=y.__values(V),aa=T.next();!aa.done;aa=T.next()){var N=aa.value,Lb=parseInt(N.getAttribute("data-totallines")||"1"),Na=Math.ceil(parseFloat((null===(I=R["default"].cardRoot.ownerDocument.defaultView)||void 0===I?void 0:I.getComputedStyle(N).lineHeight)||"1.3em"))*Lb;if(!(N.scrollHeight<=Na)){for(;N.scrollHeight>Na;)N.innerText=
N.innerText.slice(0,-1);N.innerText=N.innerText.slice(0,-3);N.innerText+="\u2026"}}}catch(L){var Oa={error:L}}finally{try{aa&&!aa.done&&(C=T.return)&&C.call(T)}finally{if(Oa)throw Oa.error;}}}d&&d();t("data-deal-badge-automated")&&t("data-ad-deal-end-time")&&Kb();O=f;if(void 0!==O&&!window.sbxGwentClientDPR)try{window.sbxGwentClientDPR=!0,x((O?"Mobile":"Desktop")+"DPR"+(4>=Math.round(2*window.devicePixelRatio)/2?Math.round(2*window.devicePixelRatio)/2:"4Plus"))}catch(L){S(L)}}catch(L){S(L)}p=t("data-ad-feedback-label-id");
u=t("data-ad-creative-list");q=t("data-device-type")||"";r=t("data-tablet-env")||"";v=t("data-card-metrics-id")||"";n=t("data-slot")||"";A=Z(v,"creativeLevel");if(!p||!u)return[3,6];H.label=2;case 2:return H.trys.push([2,4,,5]),B=JSON.parse(u),[4,Eb(p,B,h,q,r,v,n,g,l,k,m)];case 3:return H.sent(),x("NewAdFeedbackImplementationEnabled_"+A),[3,5];case 4:return D=H.sent(),c&&La(),S("Failed to generate adFeedback rendering payload: "+D,"DSA/AdFeedback"),x("FallbackToOldAdFeedbackImplementation_"+A),[3,
5];case 5:return[3,7];case 6:c&&La(),x("FallbackToOldAdFeedbackImplementation_"+A),S("Missing adFeedbackLabelId or adCreativeList","DSA/AdFeedback"),H.label=7;case 7:return[2]}})})}},da=function(){da=Object.assign||function(a){for(var b,c=1,d=arguments.length;c<d;c++){b=arguments[c];for(var e in b)Object.prototype.hasOwnProperty.call(b,e)&&(a[e]=b[e])}return a};return da.apply(this,arguments)},ba=function(a,b,c,d){function e(f){return f instanceof c?f:new c(function(h){h(f)})}return new (c||(c=Promise))(function(f,
h){function g(m){try{k(d.next(m))}catch(p){h(p)}}function l(m){try{k(d["throw"](m))}catch(p){h(p)}}function k(m){m.done?f(m.value):e(m.value).then(g,l)}k((d=d.apply(a,b||[])).next())})},ca=function(a,b){function c(k){return function(m){return d([k,m])}}function d(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(e=0)),e;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,
g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return e.label++,{value:k[1],done:!1};case 5:e.label++;h=k[1];k=[0];continue;case 7:k=e.ops.pop();e.trys.pop();continue;default:if(!(g=e.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){e=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))e.label=k[1];else if(6===k[0]&&e.label<g[1])e.label=g[1],g=k;else if(g&&e.label<g[2])e.label=g[2],e.ops.push(k);else{g[2]&&e.ops.pop();e.trys.pop();continue}}k=b.call(a,e)}catch(m){k=[6,m],h=0}finally{f=
g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var e={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},trys:[],ops:[]},f,h,g,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},bb=function(a,b,c,d){function e(f){return f instanceof c?f:new c(function(h){h(f)})}return new (c||(c=Promise))(function(f,h){function g(m){try{k(d.next(m))}catch(p){h(p)}}function l(m){try{k(d["throw"](m))}catch(p){h(p)}}function k(m){m.done?
f(m.value):e(m.value).then(g,l)}k((d=d.apply(a,b||[])).next())})},cb=function(a,b){function c(k){return function(m){return d([k,m])}}function d(k){if(f)throw new TypeError("Generator is already executing.");for(;l&&(l=0,k[0]&&(e=0)),e;)try{if(f=1,h&&(g=k[0]&2?h["return"]:k[0]?h["throw"]||((g=h["return"])&&g.call(h),0):h.next)&&!(g=g.call(h,k[1])).done)return g;if(h=0,g)k=[k[0]&2,g.value];switch(k[0]){case 0:case 1:g=k;break;case 4:return e.label++,{value:k[1],done:!1};case 5:e.label++;h=k[1];k=[0];
continue;case 7:k=e.ops.pop();e.trys.pop();continue;default:if(!(g=e.trys,g=0<g.length&&g[g.length-1])&&(6===k[0]||2===k[0])){e=0;continue}if(3===k[0]&&(!g||k[1]>g[0]&&k[1]<g[3]))e.label=k[1];else if(6===k[0]&&e.label<g[1])e.label=g[1],g=k;else if(g&&e.label<g[2])e.label=g[2],e.ops.push(k);else{g[2]&&e.ops.pop();e.trys.pop();continue}}k=b.call(a,e)}catch(m){k=[6,m],h=0}finally{f=g=0}if(k[0]&5)throw k[1];return{value:k[0]?k[1]:void 0,done:!0}}var e={label:0,sent:function(){if(g[0]&1)throw g[1];return g[1]},
trys:[],ops:[]},f,h,g,l;return l={next:c(0),"throw":c(1),"return":c(2)},"function"===typeof Symbol&&(l[Symbol.iterator]=function(){return this}),l},eb=function(a){function b(c){var d,e,f=a.call(this)||this;f._define=null!==(d=null===c||void 0===c?void 0:c.defineBrowserOperations)&&void 0!==d?d:fa.setup().define;f._useScopedDom=null!==(e=null===c||void 0===c?void 0:c.useScopedDom)&&void 0!==e?e:!0;return f}y.__extends(b,a);Object.defineProperty(b.prototype,"_dom",{get:function(){return this._useScopedDom?
lb["default"]:R["default"]},enumerable:!1,configurable:!0});b.prototype.addEventListener=function(c,d,e){return this._define(c,d,e)};b.prototype.createElement=function(c){return this._dom.createElement(c)};b.prototype.getElement=function(c,d){c=(null!==d&&void 0!==d?d:this._dom.cardRoot).querySelector(c);return c instanceof HTMLElement?c:void 0};b.prototype.getElements=function(c,d){return Array.from((null!==d&&void 0!==d?d:this._dom.cardRoot).querySelectorAll(c))};b.prototype.log=function(c,d,e){return sa.log(c,
d,null!==e&&void 0!==e?e:"DARE_CARDS")};return b}(function(){function a(){}a.prototype.addEventListener=function(b,c,d){throw Error('addEventListener() not implemented! called with: operation "'.concat(b,'"; event "').concat(c,'"; callback "').concat(d,'"'));};a.prototype.createElement=function(b){throw Error('createElement() not implemented! called with: tagName "'.concat(b,'"'));};a.prototype.getElement=function(b,c){throw Error('getElement() not implemented! called with: selector "'.concat(b,'"; root "').concat(c,
'"'));};a.prototype.getElements=function(b,c){throw Error('getElements() not implemented! called with: selector "'.concat(b,'"; root "').concat(c,'"'));};a.prototype.log=function(b,c,d){throw Error('log() not implemented! called with: message "'.concat(b,'"; level "').concat(c,'"; attribution "').concat(d,'"'));};return a}()),Nb=function(){return y.__awaiter(void 0,void 0,void 0,function(){var a,b,c,d,e,f,h;return y.__generator(this,function(g){switch(g.label){case 0:b=t("data-device-type");c=t("data-ad-feedback-payload");
try{c&&(d=null===(h=null===(f=JSON.parse(c))||void 0===f?void 0:f.adPlacementMetaData)||void 0===h?void 0:h.pageType)}catch(l){J["default"].log("Failed to parse adFeedbackPayload "+c,"ERROR"),J["default"].log(l,"ERROR")}g.label=1;case 1:return g.trys.push([1,6,,7]),"Search"!==d||"tablet"!==b&&"mobile"!==b?[3,3]:[4,new Promise(function(l,k){qa(["./es3@index"],l,k)})];case 2:return a=g.sent().enableAdFeedback,[3,5];case 3:return[4,new Promise(function(l,k){qa(["./es3@index2"],l,k)})];case 4:a=
g.sent().enableAdFeedback,g.label=5;case 5:return[2,a];case 6:return e=g.sent(),J["default"].log("Failed to load adFeedback module","ERROR"),J["default"].log(e,"ERROR"),[3,7];case 7:return[2]}})})},Ob={T1:0,T2:1E3,T3:2E3,T4:3E3,T5:4E3,T6:5E3,T7:6E3,T8:7E3,T9:8E3},Pb=function(a){"complete"===document.readyState||"interactive"===document.readyState?a():document.addEventListener("DOMContentLoaded",a)};ra._operationNames=["generateEnergyEfficiencyModalContent"];ra.card=function(){return y.__awaiter(void 0,
void 0,void 0,function(){var a;return y.__generator(this,function(b){switch(b.label){case 0:return[4,Nb()];case 1:return a=b.sent(),Mb({enableAdFeedback:a,loadAdFeedback:!0,onLoad:function(){F.log("LifestyleOnLoad");var c=Pa.setup(["generateEnergyEfficiencyModalContent"]);db({operations:c});var d=t("data-lazy-load");d&&Pb(function(){setTimeout(function(){var e=w("img[data-lifestyle-img]"),f=e&&e.getAttribute("src");if(e&&f){f=f.replace("_QL50_","_QL70_");var h=f.replace,g=window.innerWidth,l=2<=window.devicePixelRatio?
2:1,k=405*l;1470<=g?k=507*l:1400<=g?k=468*l:1250<=g&&(k=430*l);f=h.call(f,"_SX405_","_SX"+k+"_");e.setAttribute("src",f);F.log("LazyLoadLifestyle"+d)}},Ob[d]||0)})},onInit:function(){try{P.when("af").execute(function(){return F.log("LifestyleAF")})}catch(c){F.log("LifestyleAFError")}},creativeImageContainer:["container"],isMobile:!1})(),[2]}})})}});
